class u extends HTMLElement{get bus(){return this._bus||(this._bus=document.querySelector("pan-bus")),this._bus}pub(s,t,e){this.bus?.pub(s,t,e)}sub(s,t){return this.bus?.sub(s,t)}subscribe(s,t){const e=this.sub(s,t);return e&&this._subs.push(e),e}get(s){return this.bus?.get(s)}set(s,t){this.bus?.set(s,t)}connectedCallback(){this._subs=[],this._bus=null,this.connected?.()}disconnectedCallback(){this._subs&&(this._subs.forEach(s=>{typeof s=="function"&&s()}),this._subs=[]),this.disconnected?.()}connected(){}disconnected(){}data(s,t=null){return this.dataset[s]??t}dataJson(s,t=null){try{const e=this.dataset[s];return e?JSON.parse(e):t}catch{return t}}}var i=u;export{u as LarcElement,i as default};
