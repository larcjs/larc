import{PanClient as s}from"../../../core/src/components/pan-client.mjs";class e extends HTMLElement{static get observedAttributes(){return["to","replace","active-class","exact"]}constructor(){super(),this.pc=new s(this),this.currentPath=""}connectedCallback(){this.#t(),this.#i(),this.addEventListener("click",this.#e)}disconnectedCallback(){this.removeEventListener("click",this.#e)}attributeChangedCallback(){this.isConnected&&this.#t()}get to(){return this.getAttribute("to")||""}get replace(){return this.hasAttribute("replace")}get activeClass(){return this.getAttribute("active-class")||"active"}get exact(){return this.hasAttribute("exact")}#t(){this.style.cursor="pointer",this.style.textDecoration=this.style.textDecoration||"none",this.setAttribute("role","link"),this.setAttribute("tabindex","0"),this.#s()}#i(){this.pc.subscribe("nav.state",t=>{this.currentPath=t.data?.path||"",this.#s()},{retained:!0})}#e=t=>{t.preventDefault(),this.to&&this.pc.publish({topic:this.replace?"nav.replace":"nav.goto",data:{path:this.to}})};#s(){(this.exact?this.currentPath===this.to:this.currentPath.startsWith(this.to))?this.classList.add(this.activeClass):this.classList.remove(this.activeClass)}}customElements.define("pan-link",e);var r=e;export{e as PanLink,r as default};
