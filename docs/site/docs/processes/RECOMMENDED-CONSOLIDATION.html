<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Recommended Repository Consolidation for LARC Â· PAN Documentation</title>
  <meta name="description" content="PAN (Page Area Network) Documentation - Recommended Repository Consolidation for LARC">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/theme.css">
  <link rel="stylesheet" href="../assets/docs.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" integrity="sha384-wH75j6z1lH97ZOpMOInqhgKzFkAInZPPSPlZpYKYTOqsaizPvhQZmAtLcPKXpLyH" crossorigin="anonymous">
</head>
<body>
  <header class="docs-header">
    <div class="docs-header-content">
      <a href="../index.html" class="logo">
        <span>PAN</span>
      </a>
      <nav class="docs-nav">
        <a href="../index.html">Home</a>
        <a href="index.html" class="active">Docs</a>
        <a href="../examples.html">Examples</a>
        <a href="../apps.html">Apps</a>
        <a href="https://github.com/chrisrobison/pan" target="_blank">GitHub</a>
      </nav>
    </div>
  </header>

  <div class="docs-layout">
    <aside class="docs-sidebar">
      <div class="docs-sidebar-content">
        <h3>Documentation</h3>
        <nav class="docs-menu" id="docs-menu">
          <!-- Will be populated by JavaScript -->
        </nav>
      </div>
    </aside>

    <main class="docs-main">
      <div class="docs-breadcrumb">
        <a href="../index.html">Home</a> / <a href="#">processes</a> / <span>RECOMMENDED-CONSOLIDATION</span>
      </div>
      <article class="docs-content">
        <h1>Recommended Repository Consolidation for LARC</h1>
<h2>ğŸ¯ Goal</h2>
Simplify the LARC ecosystem while maintaining architectural clarity: keep <code>@larcjs/core</code> and <code>@larcjs/ui</code> as separate, focused packages.
<h2>âœ… Your Reasoning is Sound</h2>
<strong>Keep <code>core</code> and <code>components</code> separate because:</strong>
<li>âœ… Core is standalone - users shouldn't need components to use the bus</li>
<li>âœ… Different audiences - bus users vs. component library users</li>
<li>âœ… Independent versioning - core is stable, components evolve faster</li>
<li>âœ… Clear value proposition - "Use just the bus, or add components"</li>
<li>âœ… Smaller installs - <code>npm install @larcjs/core</code> stays minimal</li>
<p>This is architecturally correct. The problem is the <strong>10 OTHER repos</strong> around them.</p>
<hr>
<h2>ğŸ“Š Current State (10 Repos)</h2>
<p>| Repo | Purpose | Action |
|------|---------|--------|
| <code>core</code> | PAN messaging bus | âœ… <strong>Keep separate</strong> |
| <code>components</code> | 57 UI components | âœ… <strong>Keep separate</strong> |
| <code>core-types</code> | TS types for core | ğŸ”„ <strong>Consolidate</strong> |
| <code>components-types</code> | TS types for components | ğŸ”„ <strong>Consolidate</strong> |
| <code>site</code> | Documentation | ğŸ”„ <strong>Consolidate</strong> |
| <code>examples</code> | Demo apps | ğŸ”„ <strong>Consolidate</strong> |
| <code>apps</code> | More demo apps | ğŸ”„ <strong>Consolidate</strong> (merge with examples) |
| <code>devtools</code> | Chrome extension | ğŸ”„ <strong>Consolidate</strong> |
| <code>larc</code> | Meta repo | ğŸ”„ <strong>Become monorepo</strong> |
| <code>.github</code> | Org files | ğŸ”„ <strong>Consolidate</strong> |</p>
<hr>
<h2>ğŸ¨ Proposed Architecture</h2>
<h3>Final Structure: <strong>3 Repositories</strong></h3>
<pre><code class="language-plaintext">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  github.com/larcjs/core                                 â”‚
â”‚  â”œâ”€â”€ src/                  (PAN bus implementation)     â”‚
â”‚  â”œâ”€â”€ tests/                (261 tests)                  â”‚
â”‚  â”œâ”€â”€ package.json          (@larcjs/core v1.1.1)       â”‚
â”‚  â””â”€â”€ README.md             (Core-focused docs)          â”‚
â”‚                                                          â”‚
â”‚  Published: @larcjs/core                                â”‚
â”‚  Size: 40KB minified (128KB unminified), Zero dependencies â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  github.com/larcjs/components                           â”‚
â”‚  â”œâ”€â”€ src/                  (57 components)              â”‚
â”‚  â”œâ”€â”€ tests/                                             â”‚
â”‚  â”œâ”€â”€ package.json          (@larcjs/ui v1.1.0) â”‚
â”‚  â””â”€â”€ README.md             (Component library docs)     â”‚
â”‚                                                          â”‚
â”‚  Published: @larcjs/ui                          â”‚
â”‚  Peer Dep: @larcjs/core ^1.1.0                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  github.com/larcjs/larc (Monorepo - Development Hub)    â”‚
â”‚  â”œâ”€â”€ packages/                                          â”‚
â”‚  â”‚   â”œâ”€â”€ core-types/      (@larcjs/core-types)         â”‚
â”‚  â”‚   â”œâ”€â”€ components-types/(@larcjs/ui-types)   â”‚
â”‚  â”‚   â””â”€â”€ devtools/        (@larcjs/devtools)           â”‚
â”‚  â”œâ”€â”€ docs/                                              â”‚
â”‚  â”‚   â”œâ”€â”€ site/            (Documentation website)       â”‚
â”‚  â”‚   â”œâ”€â”€ guides/          (Tutorials, how-tos)          â”‚
â”‚  â”‚   â””â”€â”€ api/             (API reference)               â”‚
â”‚  â”œâ”€â”€ examples/                                          â”‚
â”‚  â”‚   â”œâ”€â”€ basic/           (Simple examples)             â”‚
â”‚  â”‚   â”œâ”€â”€ contact-manager/ (Full app)                    â”‚
â”‚  â”‚   â”œâ”€â”€ invoice-studio/  (Full app)                    â”‚
â”‚  â”‚   â”œâ”€â”€ hybrid-dashboard/(React+Vue+LARC)             â”‚
â”‚  â”‚   â”œâ”€â”€ offline-todo/    (State management)            â”‚
â”‚  â”‚   â””â”€â”€ ...                                            â”‚
â”‚  â”œâ”€â”€ .github/             (Workflows, templates)        â”‚
â”‚  â”œâ”€â”€ package.json         (Workspace root)              â”‚
â”‚  â””â”€â”€ pnpm-workspace.yaml                                â”‚
â”‚                                                          â”‚
â”‚  Not published as a whole, but packages/* are           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
<hr>
<h2>ğŸ“¦ Package Publishing Strategy</h2>
<h3>Published to npm</h3>
<p>| Package | Repo | Purpose |
|---------|------|---------|
| <code>@larcjs/core</code> | <code>core</code> | Standalone messaging bus |
| <code>@larcjs/ui</code> | <code>components</code> | UI component library |
| <code>@larcjs/core-types</code> | <code>larc/packages/core-types</code> | TypeScript types for core |
| <code>@larcjs/ui-types</code> | <code>larc/packages/ui-types</code> | TypeScript types for components |
| <code>@larcjs/devtools</code> | <code>larc/devtools</code> | Chrome extension (maybe) |</p>
<h3>Not Published (Development Assets)</h3>
<ul><li>Examples (live on GitHub Pages)</li>
<li>Docs site (live on GitHub Pages)</li>
<li>Workspace config</li>
</ul>
<hr>
<h2>ğŸš€ Developer Workflows</h2>
<h3>For Core Development</h3>
<pre><code class="language-bash"># Clone core repo
git clone https://github.com/larcjs/core.git
cd core
npm install
npm test
npm run build

# Publish
npm version patch
npm publish

# Update types
cd ../larc/packages/core-types
# Update types to match
npm version patch
npm publish</code></pre>
<h3>For Components Development</h3>
<pre><code class="language-bash"># Clone components repo
git clone https://github.com/larcjs/components.git
cd components
npm install
npm link @larcjs/core  # or use published version
npm test
npm run build

# Publish
npm version minor
npm publish

# Update types
cd ../larc/packages/ui-types
# Update types
npm version minor
npm publish</code></pre>
<h3>For Examples/Docs (Most Common)</h3>
<pre><code class="language-bash"># Clone monorepo
git clone https://github.com/larcjs/larc.git
cd larc
pnpm install  # Installs all packages

# Work on examples
cd examples/contact-manager
# edit files...
# Uses published @larcjs/core and @larcjs/ui

# Work on docs
cd docs/site
# edit docs...

# Work on types
cd packages/core-types
# edit types...

# Single commit for related changes
git add .
git commit -m &quot;Add example and docs for new feature&quot;
git push</code></pre>
<hr>
<h2>ğŸ”„ Migration Steps</h2>
<h3>Phase 1: Consolidate Examples (2 hours)</h3>
<strong>Merge <code>apps</code> into <code>examples</code>:</strong>
<pre><code class="language-bash">cd larc
mkdir -p examples

# Move from apps repo
git clone https://github.com/larcjs/apps.git temp-apps
mv temp-apps/contact-manager examples/
mv temp-apps/invoice-studio examples/
mv temp-apps/markdown-notes examples/
mv temp-apps/data-browser examples/
rm -rf temp-apps

# Merge with existing examples
git clone https://github.com/larcjs/examples.git temp-examples
mv temp-examples/* examples/
rm -rf temp-examples

# Organize
examples/
â”œâ”€â”€ README.md
â”œâ”€â”€ basic/              (Simple, quick demos)
â”œâ”€â”€ intermediate/       (Real features)
â””â”€â”€ advanced/           (Full applications)
    â”œâ”€â”€ contact-manager/
    â”œâ”€â”€ invoice-studio/
    â”œâ”€â”€ hybrid-dashboard/
    â””â”€â”€ ...

git add examples
git commit -m &quot;Consolidate all examples&quot;</code></pre>
<h3>Phase 2: Move Types to Monorepo (1 hour)</h3>
<pre><code class="language-bash">cd larc
mkdir -p packages

# Move core-types
git clone https://github.com/larcjs/core-types.git packages/core-types
rm -rf packages/core-types/.git

# Move components-types
git clone https://github.com/larcjs/components-types.git packages/ui-types
rm -rf packages/ui-types/.git

# Update package.json to reference published packages
# packages/core-types/package.json
{
  &quot;name&quot;: &quot;@larcjs/core-types&quot;,
  &quot;version&quot;: &quot;1.1.1&quot;,
  &quot;peerDependencies&quot;: {
    &quot;@larcjs/core&quot;: &quot;^1.1.0&quot;
  }
}

git add packages
git commit -m &quot;Move TypeScript types to monorepo&quot;</code></pre>
<h3>Phase 3: Move Documentation (1 hour)</h3>
<pre><code class="language-bash">cd larc
mkdir -p docs

# Move site
git clone https://github.com/larcjs/site.git docs/site
rm -rf docs/site/.git

git add docs
git commit -m &quot;Move documentation to monorepo&quot;</code></pre>
<h3>Phase 4: Move DevTools (30 min)</h3>
<pre><code class="language-bash">cd larc/packages

git clone https://github.com/larcjs/devtools.git devtools
rm -rf devtools/.git

git add devtools
git commit -m &quot;Move DevTools to monorepo&quot;</code></pre>
<h3>Phase 5: Set Up Workspaces (30 min)</h3>
<pre><code class="language-bash"># Create pnpm-workspace.yaml
cat &gt; pnpm-workspace.yaml &lt;&lt; EOF
packages:
  - &#039;packages/*&#039;
EOF

# Create root package.json
cat &gt; package.json &lt;&lt; EOF
{
  &quot;name&quot;: &quot;larc&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;private&quot;: true,
  &quot;description&quot;: &quot;LARC Development Monorepo&quot;,
  &quot;workspaces&quot;: [
    &quot;packages/*&quot;
  ],
  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;pnpm -r build&quot;,
    &quot;test&quot;: &quot;pnpm -r test&quot;,
    &quot;dev&quot;: &quot;pnpm -r --parallel dev&quot;,
    &quot;clean&quot;: &quot;pnpm -r clean&quot;,
    &quot;publish-types&quot;: &quot;pnpm --filter &#039;@larcjs/core-types&#039; publish &amp;&amp; pnpm --filter &#039;@larcjs/ui-types&#039; publish&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;@changesets/cli&quot;: &quot;^2.27.0&quot;
  }
}
EOF

pnpm install
git add .
git commit -m &quot;Set up pnpm workspaces&quot;</code></pre>
<h3>Phase 6: Archive Old Repos (15 min)</h3>
<strong>Don't delete! Archive for history:</strong>
<pre><code class="language-bash"># On GitHub, go to each repo:
# Settings â†’ Archive this repository

Archive these:
- larcjs/apps
- larcjs/examples
- larcjs/site
- larcjs/core-types
- larcjs/components-types
- larcjs/devtools

Add README to each:
&quot;This repository has been consolidated into https://github.com/larcjs/larc
See [path] for the code.&quot;</code></pre>
<hr>
<h2>ğŸ“‹ Final Repository Structure</h2>
<h3><code>github.com/larcjs/core</code> (Active)</h3>
<pre><code class="language-plaintext">core/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pan.mjs
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ tests/
â”œâ”€â”€ package.json        (@larcjs/core)
â””â”€â”€ README.md</code></pre>
<h3><code>github.com/larcjs/components</code> (Active)</h3>
<pre><code class="language-plaintext">components/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ styles/
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ tests/
â”œâ”€â”€ package.json        (@larcjs/ui)
â””â”€â”€ README.md</code></pre>
<h3><code>github.com/larcjs/larc</code> (Active - Monorepo)</h3>
<pre><code class="language-plaintext">larc/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core-types/
â”‚   â”‚   â”œâ”€â”€ index.d.ts
â”‚   â”‚   â””â”€â”€ package.json    (@larcjs/core-types)
â”‚   â”œâ”€â”€ components-types/
â”‚   â”‚   â”œâ”€â”€ index.d.ts
â”‚   â”‚   â””â”€â”€ package.json    (@larcjs/ui-types)
â”‚   â””â”€â”€ devtools/
â”‚       â”œâ”€â”€ src/
â”‚       â”œâ”€â”€ manifest.json
â”‚       â””â”€â”€ package.json    (@larcjs/devtools)
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ basic/
â”‚   â”‚   â”œâ”€â”€ hello-world.html
â”‚   â”‚   â”œâ”€â”€ message-passing.html
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ intermediate/
â”‚   â”‚   â”œâ”€â”€ form-validation.html
â”‚   â”‚   â”œâ”€â”€ tabs-routing.html
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ advanced/
â”‚       â”œâ”€â”€ contact-manager/
â”‚       â”œâ”€â”€ invoice-studio/
â”‚       â”œâ”€â”€ hybrid-dashboard/
â”‚       â””â”€â”€ offline-todo/
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ site/
â”‚       â”œâ”€â”€ index.html
â”‚       â”œâ”€â”€ docs/
â”‚       â”œâ”€â”€ guides/
â”‚       â””â”€â”€ api/
â”œâ”€â”€ .github/
â”‚   â”œâ”€â”€ workflows/
â”‚   â”œâ”€â”€ ISSUE_TEMPLATE/
â”‚   â””â”€â”€ PULL_REQUEST_TEMPLATE.md
â”œâ”€â”€ package.json
â”œâ”€â”€ pnpm-workspace.yaml
â”œâ”€â”€ README.md
â””â”€â”€ CONTRIBUTING.md</code></pre>
<hr>
<h2>ğŸŒ URLs After Consolidation</h2>
<h3>Package Installs (Unchanged)</h3>
<pre><code class="language-bash">npm install @larcjs/core
npm install @larcjs/ui
npm install -D @larcjs/core-types
npm install -D @larcjs/ui-types</code></pre>
<h3>GitHub URLs (Simplified)</h3>
<strong>Source code:</strong>
<ul><li>https://github.com/larcjs/core</li>
<li>https://github.com/larcjs/components</li>
<li>https://github.com/larcjs/larc</li>
</ul>
<strong>Documentation:</strong>
<ul><li>https://larcjs.com/docs/</li>
<li>https://larcjs.com/examples/</li>
</ul>
<strong>Examples:</strong>
<ul><li>https://larcjs.com/examples/basic/</li>
<li>https://larcjs.com/examples/advanced/contact-manager/</li>
</ul>
<hr>
<h2>ğŸ’¡ Benefits of This Structure</h2>
<h3>For Core/Components Users (External)</h3>
<ul><li>âœ… Clear separation: bus vs. components</li>
<li>âœ… Minimal installs</li>
<li>âœ… Independent versioning</li>
<li>âœ… <strong>No change to their workflow</strong></li>
</ul>
<h3>For Contributors (Internal)</h3>
<ul><li>âœ… Fewer repos to clone (3 vs 10)</li>
<li>âœ… Examples all in one place</li>
<li>âœ… Types updated alongside features</li>
<li>âœ… Docs co-located with examples</li>
<li>âœ… Single source of truth</li>
</ul>
<h3>For Maintainers</h3>
<ul><li>âœ… Fewer repos to manage</li>
<li>âœ… Simpler CI/CD (3 repos vs 10)</li>
<li>âœ… Coordinated releases for types</li>
<li>âœ… Easier to keep docs in sync</li>
</ul>
<hr>
<h2>ğŸ”„ Alternative: Keep It Super Simple</h2>
<p>If you want <strong>even simpler</strong>:</p>
<h3>Option B: Just 2 Repos</h3>
<pre><code class="language-plaintext">github.com/larcjs/core        (Stay as-is)
github.com/larcjs/components  (Stay as-is)

Everything else â†’ Archive or move to wiki</code></pre>
<strong>Rationale:</strong>
<ul><li>Types published as patch releases from core</li>
<li>Examples live in README or GitHub Pages</li>
<li>Docs on website only</li>
</ul>
<strong>Result:</strong> 10 repos â†’ 2 repos (most extreme)
<hr>
<h2>ğŸ“Š Comparison</h2>
<p>| Approach | Repos | Complexity | npm Packages | Best For |
|----------|-------|------------|--------------|----------|
| <strong>Current</strong> | 10 | High ğŸ˜« | 5 | Nothing |
| <strong>Recommended (3)</strong> | 3 | Low ğŸ˜Š | 5 | Most teams |
| <strong>Extreme (2)</strong> | 2 | Minimal ğŸ¤© | 2 | Solo maintainer |</p>
<hr>
<h2>âœ… Recommended Action Plan</h2>
<li><strong>Keep as separate</strong> (Don't touch):</li>
   - <code>core</code> - Published package
   - <code>components</code> - Published package
<li><strong>Consolidate into <code>larc</code></strong> (Do this):</li>
   - <code>core-types</code> â†’ <code>larc/packages/core-types</code>
   - <code>components-types</code> â†’ <code>larc/packages/ui-types</code>
   - <code>devtools</code> â†’ <code>larc/devtools</code>
   - <code>site</code> â†’ <code>larc/docs/site</code>
   - <code>examples</code> + <code>apps</code> â†’ <code>larc/examples</code>
   - <code>.github</code> â†’ <code>larc/.github</code>
<li><strong>Archive</strong> (Safe to archive):</li>
   - Old <code>apps</code> repo (merged into examples)
   - Old <code>examples</code> repo (merged into larc)
   - Old <code>site</code> repo (moved to larc)
   - Old type repos (moved to larc)
   - Old devtools repo (moved to larc)
<strong>Timeline:</strong> 5-6 hours one-time effort
<strong>Benefit:</strong> Simpler forever ğŸ‰
<hr>
<h2>ğŸš€ Ready to Execute?</h2>
<p>I can help create the migration scripts. Just say the word!</p>
      </article>
      <footer class="docs-footer">
        <a href="https://github.com/chrisrobison/pan/edit/main/processes/RECOMMENDED-CONSOLIDATION.md" target="_blank">
          Edit this page on GitHub
        </a>
      </footer>
    </main>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha384-F/bZzf7p3Joyp5psL90p/p89AZJsndkSoGwRpXcZhleCWhd8SnRuoYo4d0yirjJp" crossorigin="anonymous"></script>
  <script src="../assets/docs.js"></script>
</body>
</html>