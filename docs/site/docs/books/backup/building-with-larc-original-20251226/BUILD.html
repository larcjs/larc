<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- CRITICAL: Load theme BEFORE CSS to prevent flash -->
  <script src="../../../../../../playground/theme-init.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Building the Book · PAN Documentation</title>
  <meta name="description" content="PAN (Page Area Network) Documentation - Building the Book">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/theme.css">
  <link rel="stylesheet" href="../assets/docs.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" integrity="sha384-wH75j6z1lH97ZOpMOInqhgKzFkAInZPPSPlZpYKYTOqsaizPvhQZmAtLcPKXpLyH" crossorigin="anonymous">
</head>
<body>
  <header class="docs-header">
    <div class="docs-header-content">
      <a href="../index.html" class="logo">
        <span>PAN</span>
      </a>
      <nav class="docs-nav">
        <a href="../index.html">Home</a>
        <a href="index.html" class="active">Docs</a>
        <a href="../examples.html">Examples</a>
        <a href="../apps.html">Apps</a>
        <a href="https://github.com/chrisrobison/pan" target="_blank">GitHub</a>
      </nav>
    </div>
  </header>

  <div class="docs-layout">
    <aside class="docs-sidebar">
      <div class="docs-sidebar-content">
        <h3>Documentation</h3>
        <nav class="docs-menu" id="docs-menu">
          <!-- Will be populated by JavaScript -->
        </nav>
      </div>
    </aside>

    <main class="docs-main">
      <div class="docs-breadcrumb">
        <a href="../index.html">Home</a> / <a href="#">books</a> / <a href="#">backup</a> / <a href="#">building-with-larc-original-20251226</a> / <span>BUILD</span>
      </div>
      <article class="docs-content">
        <h1>Building the Book</h1>
<p>This directory contains the complete "Building with LARC: A Reference Manual" and tools to generate the book in multiple formats.</p>
<h2>Quick Start</h2>
<pre><code class="language-bash"># Install dependencies (first time only)
brew install pandoc
brew install --cask mactex-no-gui

# Build all formats (HTML, PDF, EPUB)
./build-book.sh

# Build specific format
./build-book.sh html
./build-book.sh pdf
./build-book.sh epub

# Clean build artifacts
./build-book.sh clean</code></pre>
<h2>Output Formats</h2>
<p>The build script generates three formats:</p>
<h3>HTML</h3>
<ul><li><strong>Single-page HTML</strong> with table of contents and syntax highlighting</li>
<li>Great for web hosting or offline reading</li>
<li>Output: <code>output/html/building-with-larc.html</code></li>
</ul>
<h3>PDF</h3>
<ul><li><strong>Professional PDF</strong> suitable for printing</li>
<li>Includes table of contents and page numbers</li>
<li>Output: <code>output/pdf/building-with-larc.pdf</code></li>
</ul>
<h3>EPUB</h3>
<ul><li><strong>E-reader format</strong> for Kindle, iBooks, etc.</li>
<li>Includes metadata and table of contents</li>
<li>Output: <code>output/epub/building-with-larc.epub</code></li>
</ul>
<h2>Requirements</h2>
<h3>Required Dependencies</h3>
<li><strong>Pandoc</strong> - Universal document converter</li>
   <pre><code class="language-bash">brew install pandoc</code></pre>
<li><strong>LaTeX</strong> - For PDF generation (MacTeX without GUI)</li>
   <pre><code class="language-bash">brew install --cask mactex-no-gui</code></pre>
<h3>Optional Dependencies</h3>
<li><strong>Prince XML</strong> - For better PDF output (optional but recommended)</li>
   - Download from: https://www.princexml.com/
   - Free for non-commercial use
   - Produces higher-quality PDFs than pdflatex
<h2>Build Script Features</h2>
<p>The <code>build-book.sh</code> script:</p>
<p>✅ Checks for required dependencies
✅ Combines all 33 markdown files in correct order
✅ Generates metadata (title, author, date, version)
✅ Creates table of contents with 3 levels
✅ Numbers all sections and subsections
✅ Applies syntax highlighting to code blocks
✅ Includes CSS styling for HTML and PDF
✅ Creates EPUB with proper metadata
✅ Color-coded console output
✅ Handles missing optional dependencies gracefully</p>
<h2>Customization</h2>
<h3>Styling</h3>
<p>Edit the generated CSS files to customize appearance:</p>
<ul><li><code>book-style.css</code> - HTML styling</li>
<li><code>book-style-print.css</code> - PDF/print styling</li>
</ul>
The script creates default CSS files if they don't exist. Once created, you can modify them and they won't be overwritten.
<h3>Cover Image</h3>
<p>Add a cover image for the EPUB format:</p>
<pre><code class="language-bash"># Place a PNG image named cover.png in the book directory
cp your-cover.png cover.png

# Rebuild
./build-book.sh epub</code></pre>
<p>Recommended size: 1600x2400 pixels</p>
<h3>Metadata</h3>
<p>Edit the metadata in <code>build-book.sh</code>:</p>
<pre><code class="language-bash">BOOK_TITLE=&quot;Building with LARC: A Reference Manual&quot;
BOOK_SUBTITLE=&quot;A Comprehensive Guide to Modern Web Applications&quot;
AUTHOR=&quot;LARC Project Contributors&quot;
VERSION=&quot;1.0.0&quot;</code></pre>
<h2>Build Process Details</h2>
<h3>1. Dependency Check</h3>
The script verifies that Pandoc and pdflatex are installed.
<h3>2. Directory Setup</h3>
Creates build directories:
<ul><li><code>build/</code> - Temporary build files</li>
<li><code>output/html/</code> - HTML output</li>
<li><code>output/pdf/</code> - PDF output</li>
<li><code>output/epub/</code> - EPUB output</li>
</ul>
<h3>3. Metadata Generation</h3>
Creates YAML frontmatter with book information.
<h3>4. Chapter Ordering</h3>
Combines all 33 markdown files in the correct sequence:
<ul><li>Chapters 1-25</li>
<li>Appendices A-G</li>
<li>Index</li>
</ul>
<h3>5. Format Conversion</h3>
Uses Pandoc to convert markdown to target formats with appropriate options.
<h2>Troubleshooting</h2>
<h3>"pandoc: command not found"</h3>
<p>Install Pandoc:
<pre><code class="language-bash">brew install pandoc</code></pre></p>
<h3>"pdflatex: command not found"</h3>
<p>Install MacTeX:
<pre><code class="language-bash">brew install --cask mactex-no-gui</code></pre></p>
<p>Then add to your PATH:
<pre><code class="language-bash">export PATH=&quot;/Library/TeX/texbin:$PATH&quot;</code></pre></p>
<h3>PDF Generation Fails</h3>
<p>If you get LaTeX errors:</p>
<li>Use Prince XML instead (if available)</li>
<li>Simplify markdown formatting in problematic chapters</li>
<li>Check for special characters that need escaping</li>
<h3>EPUB Validation</h3>
<p>Validate your EPUB file:
<pre><code class="language-bash">brew install epubcheck
epubcheck output/epub/building-with-larc.epub</code></pre></p>
<h3>File Not Found Errors</h3>
<p>Make sure you're running the script from the correct directory:
<pre><code class="language-bash">cd /Users/cdr/Projects/larc-repos/docs/books/building-with-larc
./build-book.sh</code></pre></p>
<h2>Advanced Usage</h2>
<h3>Custom Pandoc Options</h3>
<p>Edit <code>build-book.sh</code> to add custom Pandoc options:</p>
<pre><code class="language-bash"># Example: Add custom template
pandoc \
    --template=custom-template.html \
    ...</code></pre>
<h3>Partial Builds</h3>
<p>Build only specific chapters by editing <code>build/book-order.txt</code>:</p>
<pre><code class="language-bash"># Edit to include only desired chapters
./build-book.sh html</code></pre>
<h3>Multi-page HTML</h3>
<p>For a multi-page HTML version, split by chapters:</p>
<pre><code class="language-bash">for chapter in chapter-*.md; do
    pandoc &quot;$chapter&quot; \
        -o &quot;output/html/${chapter%.md}.html&quot; \
        --standalone \
        --css=book-style.css
done</code></pre>
<h2>CI/CD Integration</h2>
<h3>GitHub Actions</h3>
<pre><code class="language-yaml">name: Build Book
on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:

      - uses: actions/checkout@v3
      - name: Install dependencies
        run: |
          sudo apt-get update
          sudo apt-get install -y pandoc texlive-xetex

      - name: Build book
        run: |
          cd docs/books/building-with-larc
          ./build-book.sh
      - name: Upload artifacts
        uses: actions/upload-artifact@v3
        with:
          name: book-outputs
          path: docs/books/building-with-larc/output/</code></pre>
<h2>File Structure</h2>
<pre><code class="language-plaintext">building-with-larc/
├── README.md                    # Main documentation
├── BUILD.md                     # This file
├── build-book.sh               # Build script
├── book-style.css              # HTML/PDF styles (generated)
├── book-style-print.css        # Print-specific styles (generated)
├── cover.png                   # Optional cover image
├── chapter-01-introduction.md  # Chapter files
├── chapter-02-philosophy.md
├── ...
├── appendix-a-message-topics.md
├── ...
├── build/                      # Build artifacts (generated)
│   ├── metadata.yaml
│   ├── epub-metadata.xml
│   └── book-order.txt
└── output/                     # Generated books
    ├── html/
    │   ├── building-with-larc.html
    │   └── book-style.css
    ├── pdf/
    │   └── building-with-larc.pdf
    └── epub/
        └── building-with-larc.epub</code></pre>
<h2>Publishing</h2>
<h3>Web Hosting</h3>
<p>Deploy the HTML version:</p>
<pre><code class="language-bash"># Copy to web server
scp -r output/html/* user@server:/var/www/docs/

# Or use GitHub Pages
cp -r output/html/* docs/
git add docs/
git commit -m &quot;Update book HTML&quot;
git push</code></pre>
<h3>PDF Distribution</h3>
<p>The PDF is ready for:</p>
<ul><li>Print-on-demand services (Lulu, CreateSpace)</li>
<li>Digital download</li>
<li>E-commerce platforms (Gumroad, etc.)</li>
</ul>
<h3>EPUB Distribution</h3>
<p>The EPUB works with:</p>
<ul><li>Amazon Kindle (may need conversion with Kindle Previewer)</li>
<li>Apple Books</li>
<li>Google Play Books</li>
<li>Kobo</li>
<li>Barnes & Noble Nook</li>
</ul>
<h2>Performance</h2>
<p>Build times (approximate):</p>
<ul><li>HTML: 2-3 seconds</li>
<li>PDF (pdflatex): 20-30 seconds</li>
<li>PDF (Prince): 10-15 seconds</li>
<li>EPUB: 3-5 seconds</li>
<li>All formats: 30-40 seconds</li>
</ul>
<h2>Version History</h2>
<ul><li><strong>v1.0.0</strong> - Initial release (December 2025)</li>
</ul>  - 25 chapters
  - 7 appendices
  - ~115,000 words
  - 200+ code examples
<h2>Support</h2>
<p>For issues with the book build process:</p>
<li>Check this BUILD.md file</li>
<li>Verify dependencies are installed</li>
<li>Check the script output for error messages</li>
<li>See troubleshooting section above</li>
<p>For content issues:</p>
<ul><li>Open an issue on GitHub</li>
<li>Submit a pull request with corrections</li>
</ul>
<h2>License</h2>
<p>The build script is part of the LARC project and follows the same license as the framework.</p>
      </article>
      <footer class="docs-footer">
        <a href="https://github.com/chrisrobison/pan/edit/main/books/backup/building-with-larc-original-20251226/BUILD.md" target="_blank">
          Edit this page on GitHub
        </a>
      </footer>
    </main>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha384-F/bZzf7p3Joyp5psL90p/p89AZJsndkSoGwRpXcZhleCWhd8SnRuoYo4d0yirjJp" crossorigin="anonymous"></script>
  <script src="../assets/docs.js"></script>
  <pan-bus debug="false"></pan-bus>
  <pan-theme-provider></pan-theme-provider>
</body>
</html>