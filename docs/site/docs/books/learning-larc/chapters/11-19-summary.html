<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Summary Outlines · PAN Documentation</title>
  <meta name="description" content="PAN (Page Area Network) Documentation - Summary Outlines">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/theme.css">
  <link rel="stylesheet" href="../assets/docs.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" integrity="sha384-wH75j6z1lH97ZOpMOInqhgKzFkAInZPPSPlZpYKYTOqsaizPvhQZmAtLcPKXpLyH" crossorigin="anonymous">
</head>
<body>
  <header class="docs-header">
    <div class="docs-header-content">
      <a href="../index.html" class="logo">
        <span>PAN</span>
      </a>
      <nav class="docs-nav">
        <a href="../index.html">Home</a>
        <a href="index.html" class="active">Docs</a>
        <a href="../examples.html">Examples</a>
        <a href="../apps.html">Apps</a>
        <a href="https://github.com/chrisrobison/pan" target="_blank">GitHub</a>
      </nav>
    </div>
  </header>

  <div class="docs-layout">
    <aside class="docs-sidebar">
      <div class="docs-sidebar-content">
        <h3>Documentation</h3>
        <nav class="docs-menu" id="docs-menu">
          <!-- Will be populated by JavaScript -->
        </nav>
      </div>
    </aside>

    <main class="docs-main">
      <div class="docs-breadcrumb">
        <a href="../index.html">Home</a> / <a href="#">books</a> / <a href="#">learning-larc</a> / <a href="#">chapters</a> / <span>11-19-summary</span>
      </div>
      <article class="docs-content">
        <h1>Summary Outlines</h1>
<h2>Chapter 11: Data Fetching and APIs</h2>
<h3>Key Topics:</h3>
<ul><li><strong>REST API Integration</strong>: Using fetch() with proper error handling</li>
<li><strong>GraphQL Support</strong>: Query/mutation patterns with LARC</li>
<li><strong>WebSocket Communication</strong>: Real-time bi-directional communication</li>
<li><strong>Server-Sent Events</strong>: One-way server push for live updates</li>
<li><strong>Caching Strategies</strong>: Cache-first, network-first, stale-while-revalidate</li>
<li><strong>Retry Logic</strong>: Exponential backoff and circuit breakers</li>
</ul>
<h3>Code Example - API Client:</h3>
<pre><code class="language-javascript">class ApiClient {
  async fetch(endpoint, options = {}) {
    const response = await fetch(`/api${endpoint}`, {
      ...options,
      headers: {
        &#039;Content-Type&#039;: &#039;application/json&#039;,
        ...options.headers
      }
    });

    if (!response.ok) throw new Error(`API Error: ${response.status}`);
    return response.json();
  }

  async get(endpoint) {
    return this.fetch(endpoint);
  }

  async post(endpoint, data) {
    return this.fetch(endpoint, {
      method: &#039;POST&#039;,
      body: JSON.stringify(data)
    });
  }
}</code></pre>
<h2>Chapter 12: Authentication and Security</h2>
<h3>Key Topics:</h3>
<ul><li><strong>JWT Token Management</strong>: Storing, refreshing, and validating tokens</li>
<li><strong>The pan-auth Component</strong>: Centralized authentication state</li>
<li><strong>Protected Routes</strong>: Route guards for authenticated pages</li>
<li><strong>CORS Handling</strong>: Cross-origin resource sharing configuration</li>
<li><strong>XSS Prevention</strong>: Sanitizing user input</li>
<li><strong>CSRF Protection</strong>: Token-based request validation</li>
</ul>
<h3>Code Example - Auth Service:</h3>
<pre><code class="language-javascript">class AuthService {
  async login(credentials) {
    const response = await fetch(&#039;/api/auth/login&#039;, {
      method: &#039;POST&#039;,
      body: JSON.stringify(credentials)
    });

    const { token, user } = await response.json();

    localStorage.setItem(&#039;authToken&#039;, token);
    pan.publish(&#039;auth.login&#039;, { user });

    return { token, user };
  }

  async refresh() {
    const token = localStorage.getItem(&#039;authToken&#039;);
    const response = await fetch(&#039;/api/auth/refresh&#039;, {
      headers: { &#039;Authorization&#039;: `Bearer ${token}` }
    });

    const { token: newToken } = await response.json();
    localStorage.setItem(&#039;authToken&#039;, newToken);
  }

  logout() {
    localStorage.removeItem(&#039;authToken&#039;);
    pan.publish(&#039;auth.logout&#039;);
  }
}</code></pre>
<h2>Chapter 13: Server Integration</h2>
<h3>Key Topics:</h3>
<ul><li><strong>Node.js/Express Backend</strong>: RESTful API design for LARC</li>
<li><strong>PHP Integration</strong>: Connecting LARC to PHP backends</li>
<li><strong>Python/Django</strong>: Django REST framework integration</li>
<li><strong>Database Patterns</strong>: ORM usage and raw SQL</li>
<li><strong>Real-Time</strong>: WebSocket servers with Socket.io</li>
<li><strong>File Serving</strong>: Static assets and CDN integration</li>
</ul>
<h3>Node.js Example:</h3>
<pre><code class="language-javascript">// server.js
const express = require(&#039;express&#039;);
const app = express();

app.use(express.json());
app.use(express.static(&#039;public&#039;));

app.get(&#039;/api/users&#039;, async (req, res) =&gt; {
  const users = await db.users.findAll();
  res.json(users);
});

app.post(&#039;/api/users&#039;, async (req, res) =&gt; {
  const user = await db.users.create(req.body);
  res.json(user);
});

app.listen(3000);</code></pre>
<h2>Chapter 14: Testing</h2>
<h3>Key Topics:</h3>
<ul><li><strong>Unit Testing</strong>: Testing components in isolation with Web Test Runner</li>
<li><strong>Integration Testing</strong>: Testing component interactions</li>
<li><strong>E2E Testing</strong>: Playwright/Puppeteer for full user flows</li>
<li><strong>Visual Regression</strong>: Percy or BackstopJS for UI testing</li>
<li><strong>Mocking</strong>: Fetch mocks and PAN bus mocks</li>
<li><strong>CI/CD</strong>: GitHub Actions test automation</li>
</ul>
<h3>Test Example:</h3>
<pre><code class="language-javascript">import { expect, fixture, html } from &#039;@open-wc/testing&#039;;
import &#039;../user-card.js&#039;;

describe(&#039;UserCard&#039;, () =&gt; {
  it(&#039;renders user data&#039;, async () =&gt; {
    const el = await fixture(html`
      &lt;user-card .user=${{ name: &#039;John&#039;, email: &#039;john@example.com&#039; }}&gt;
      &lt;/user-card&gt;
    `);

    expect(el.shadowRoot.querySelector(&#039;h2&#039;).textContent).to.equal(&#039;John&#039;);
    expect(el.shadowRoot.querySelector(&#039;.email&#039;).textContent).to.equal(&#039;john@example.com&#039;);
  });

  it(&#039;dispatches follow event on button click&#039;, async () =&gt; {
    const el = await fixture(html`&lt;user-card&gt;&lt;/user-card&gt;`);

    let eventData = null;
    el.addEventListener(&#039;follow&#039;, (e) =&gt; {
      eventData = e.detail;
    });

    el.shadowRoot.querySelector(&#039;button&#039;).click();

    expect(eventData).to.exist;
  });
});</code></pre>
<h2>Chapter 15: Performance and Optimization</h2>
<h3>Key Topics:</h3>
<ul><li><strong>Code Splitting</strong>: Dynamic imports for lazy loading</li>
<li><strong>Tree Shaking</strong>: Removing unused code</li>
<li><strong>Lazy Loading</strong>: Intersection Observer patterns</li>
<li><strong>Image Optimization</strong>: WebP, lazy loading, responsive images</li>
<li><strong>Caching</strong>: Service Worker caching strategies</li>
<li><strong>Performance Monitoring</strong>: Web Vitals and metrics</li>
</ul>
<h3>Performance Patterns:</h3>
<pre><code class="language-javascript">// Lazy load on interaction
button.addEventListener(&#039;click&#039;, async () =&gt; {
  const { HeavyComponent } = await import(&#039;./heavy-component.js&#039;);
  // Use component
}, { once: true });

// Intersection Observer for images
const observer = new IntersectionObserver((entries) =&gt; {
  entries.forEach(entry =&gt; {
    if (entry.isIntersecting) {
      entry.target.src = entry.target.dataset.src;
      observer.unobserve(entry.target);
    }
  });
});

document.querySelectorAll(&#039;img[data-src]&#039;).forEach(img =&gt; {
  observer.observe(img);
});</code></pre>
<h2>Chapter 16: Deployment</h2>
<h3>Key Topics:</h3>
<ul><li><strong>Static Hosting</strong>: Netlify, Vercel, GitHub Pages</li>
<li><strong>CDN Configuration</strong>: CloudFlare, AWS CloudFront</li>
<li><strong>Environment Variables</strong>: Managing config across environments</li>
<li><strong>Build Scripts</strong>: Optional production optimization</li>
<li><strong>CI/CD Pipelines</strong>: Automated deployment workflows</li>
<li><strong>Monitoring</strong>: Error tracking and analytics</li>
</ul>
<h3>Deployment Checklist:</h3>
<ul><li>[ ] Minify JavaScript (optional but recommended)</li>
<li>[ ] Optimize images</li>
<li>[ ] Set up CDN for assets</li>
<li>[ ] Configure caching headers</li>
<li>[ ] Enable HTTPS</li>
<li>[ ] Set up error monitoring (Sentry)</li>
<li>[ ] Configure analytics (Plausible, Fathom)</li>
<li>[ ] Test in all target browsers</li>
<li>[ ] Set up automated deployments</li>
</ul>
<h2>Chapter 17: Component Library</h2>
<h3>Key Topics:</h3>
<ul><li><strong>Using the Registry</strong>: Finding and installing components</li>
<li><strong>Contributing Components</strong>: Publishing to the registry</li>
<li><strong>Component Quality</strong>: Tests, types, documentation</li>
<li><strong>Versioning</strong>: Semantic versioning and changelogs</li>
<li><strong>Documentation</strong>: API docs and usage examples</li>
<li><strong>Design Systems</strong>: Building consistent component libraries</li>
</ul>
<h3>Registry Integration:</h3>
<pre><code class="language-bash"># Install component from registry
larc add @larcjs/ui

# Publish component to registry
larc publish ./components/my-component.js</code></pre>
<h2>Chapter 18: Tooling</h2>
<h3>Key Topics:</h3>
<ul><li><strong>LARC CLI</strong>: create-larc-app, dev server, generators</li>
<li><strong>VS Code Extension</strong>: Snippets, IntelliSense, commands</li>
<li><strong>Browser DevTools</strong>: Debugging Web Components and Shadow DOM</li>
<li><strong>Hot Module Reload</strong>: Live updates without full refresh</li>
<li><strong>Linting</strong>: ESLint configuration for LARC</li>
<li><strong>Formatting</strong>: Prettier setup</li>
</ul>
<h3>VS Code Snippets:</h3>
<pre><code class="language-json">{
  &quot;LARC Component&quot;: {
    &quot;prefix&quot;: &quot;larc-component&quot;,
    &quot;body&quot;: [
      &quot;class ${1:ComponentName} extends HTMLElement {&quot;,
      &quot;  constructor() {&quot;,
      &quot;    super();&quot;,
      &quot;    this.attachShadow({ mode: &#039;open&#039; });&quot;,
      &quot;  }&quot;,
      &quot;  &quot;,
      &quot;  connectedCallback() {&quot;,
      &quot;    this.render();&quot;,
      &quot;  }&quot;,
      &quot;  &quot;,
      &quot;  render() {&quot;,
      &quot;    this.shadowRoot.innerHTML = \\`&quot;,
      &quot;      &lt;style&gt;&quot;,
      &quot;        :host { display: block; }&quot;,
      &quot;      &lt;/style&gt;&quot;,
      &quot;      $2&quot;,
      &quot;    \\`;&quot;,
      &quot;  }&quot;,
      &quot;}&quot;,
      &quot;&quot;,
      &quot;customElements.define(&#039;${3:component-name}&#039;, ${1:ComponentName});&quot;
    ]
  }
}</code></pre>
<h2>Chapter 19: Real-World Applications</h2>
<h3>Case Study 1: E-Commerce Platform</h3>
<strong>Features:</strong>
<ul><li>Product catalog with search and filters</li>
<li>Shopping cart with persistence</li>
<li>Checkout flow with payment integration</li>
<li>User authentication and profiles</li>
<li>Order history and tracking</li>
</ul>
<strong>Architecture:</strong>
<ul><li>Components: product-card, cart-widget, checkout-form</li>
<li>State: IndexedDB for cart, localStorage for preferences</li>
<li>API: REST backend with Stripe integration</li>
<li>Routing: /products, /cart, /checkout, /orders</li>
</ul>
<h3>Case Study 2: Dashboard Application</h3>
<strong>Features:</strong>
<ul><li>Real-time data visualization</li>
<li>User permissions and roles</li>
<li>Data export functionality</li>
<li>Responsive layout</li>
<li>Dark mode support</li>
</ul>
<strong>Architecture:</strong>
<ul><li>Components: chart-widget, data-table, filter-bar</li>
<li>State: Reactive store with WebSocket updates</li>
<li>API: GraphQL for flexible queries</li>
<li>Real-time: WebSocket for live updates</li>
</ul>
<h3>Case Study 3: Blog/CMS</h3>
<strong>Features:</strong>
<ul><li>Markdown editor</li>
<li>Draft auto-save</li>
<li>Media library</li>
<li>SEO optimization</li>
<li>Static site generation</li>
</ul>
<strong>Architecture:</strong>
<ul><li>Components: markdown-editor, media-upload, post-list</li>
<li>State: IndexedDB for drafts</li>
<li>API: Headless CMS (Contentful/Strapi)</li>
<li>Build: Optional SSG for production</li>
</ul>
<h3>Lessons Learned:</h3>
<li>Start simple, add complexity as needed</li>
<li>Use the PAN bus for cross-component communication</li>
<li>Implement offline-first for better UX</li>
<li>Test early and often</li>
<li>Profile before optimizing</li>
<li>Document your components</li>
<li>Use TypeScript for larger projects</li>
<li>Implement error boundaries</li>
<li>Monitor performance in production</li>
<li>Build progressively</li>
<hr>
<h1>Appendices</h1>
<h2>Appendix A: Web Components API Reference</h2>
<h3>Custom Elements</h3>
<ul><li><code>customElements.define(name, constructor, options)</code></li>
<li><code>customElements.get(name)</code></li>
<li><code>customElements.whenDefined(name)</code></li>
<li><code>customElements.upgrade(root)</code></li>
</ul>
<h3>Lifecycle Callbacks</h3>
<ul><li><code>constructor()</code></li>
<li><code>connectedCallback()</code></li>
<li><code>disconnectedCallback()</code></li>
<li><code>attributeChangedCallback(name, oldValue, newValue)</code></li>
<li><code>adoptedCallback()</code></li>
</ul>
<h3>Shadow DOM</h3>
<ul><li><code>element.attachShadow({ mode: 'open'|'closed' })</code></li>
<li><code>element.shadowRoot</code></li>
<li><code>slot.assignedNodes()</code></li>
<li><code>slot.assignedElements()</code></li>
</ul>
<h2>Appendix B: PAN Bus API Reference</h2>
<h3>Core Methods</h3>
<pre><code class="language-javascript">// Publish
pan.publish(topic, data)

// Subscribe
const unsubscribe = pan.subscribe(topic, handler)

// Request/Response
const result = await pan.request(topic, data, timeout)
pan.respond(topic, handler)

// Unsubscribe
unsubscribe()</code></pre>
<h3>Topic Patterns</h3>
<ul><li><code>user.login</code> - Specific event</li>
<li><code>user.*</code> - All user events</li>
<li><code>*.error</code> - All error events</li>
<li><code>*</code> - All events (debugging)</li>
</ul>
<h2>Appendix C: Component API Reference</h2>
<h3>Built-in Components</h3>
<strong>pan-store</strong>
<ul><li>Attributes: <code>persist</code>, <code>namespace</code></li>
<li>Methods: <code>getState()</code>, <code>setState(updates)</code>, <code>subscribe(path, handler)</code></li>
<li>Events: <code>state-changed</code></li>
</ul>
<strong>pan-router</strong>
<ul><li>Child: <code><pan-route path="" component="" guard=""></code></li>
<li>Events: <code>router.navigated</code>, <code>router.not-found</code></li>
<li>PAN Topics: <code>router.navigate</code>, <code>router.back</code>, <code>router.forward</code></li>
</ul>
<strong>pan-fetch</strong>
<ul><li>Attributes: <code>url</code>, <code>method</code>, <code>auto</code></li>
<li>Properties: <code>data</code>, <code>loading</code>, <code>error</code></li>
<li>Events: <code>data-loaded</code>, <code>fetch-error</code></li>
</ul>
<strong>pan-auth</strong>
<ul><li>Methods: <code>login(credentials)</code>, <code>logout()</code>, <code>refresh()</code></li>
<li>Properties: <code>user</code>, <code>authenticated</code></li>
<li>Events: <code>auth-changed</code></li>
</ul>
<h2>Appendix D: Migration Guides</h2>
<h3>From React</h3>
<strong>Concepts:</strong>
<ul><li>JSX → Template literals</li>
<li>Props → Attributes/properties</li>
<li>State → Instance properties</li>
<li>Context → PAN bus or Context API pattern</li>
<li>Hooks → Lifecycle callbacks</li>
<li>Redux → pan-store or custom store</li>
</ul>
<strong>Example:</strong>
<pre><code class="language-javascript">// React
function UserCard({ user }) {
  const [expanded, setExpanded] = useState(false);

  return (
    &lt;div onClick={() =&gt; setExpanded(!expanded)}&gt;
      &lt;h2&gt;{user.name}&lt;/h2&gt;
      {expanded &amp;&amp; &lt;p&gt;{user.bio}&lt;/p&gt;}
    &lt;/div&gt;
  );
}

// LARC
class UserCard extends HTMLElement {
  constructor() {
    super();
    this.expanded = false;
  }

  set user(value) {
    this._user = value;
    this.render();
  }

  connectedCallback() {
    this.addEventListener(&#039;click&#039;, () =&gt; {
      this.expanded = !this.expanded;
      this.render();
    });
    this.render();
  }

  render() {
    this.innerHTML = `
      &lt;div&gt;
        &lt;h2&gt;${this._user.name}&lt;/h2&gt;
        ${this.expanded ? `&lt;p&gt;${this._user.bio}&lt;/p&gt;` : &#039;&#039;}
      &lt;/div&gt;
    `;
  }
}</code></pre>
<h3>From Vue</h3>
<strong>Concepts:</strong>
<ul><li>Templates → Template literals</li>
<li>v-model → Two-way binding patterns</li>
<li>Computed → Getters</li>
<li>Watch → Observe patterns</li>
<li>Vuex → pan-store</li>
</ul>
<h3>From Angular</h3>
<strong>Concepts:</strong>
<ul><li>Decorators → Static properties</li>
<li>Dependency Injection → Constructor patterns</li>
<li>Services → Modules</li>
<li>RxJS → PAN bus observables</li>
<li>NgRx → pan-store</li>
</ul>
<h2>Appendix E: Resources</h2>
<h3>Official Documentation</h3>
<ul><li>LARC Docs: https://larcjs.com/docs</li>
<li>Component Registry: https://components.larcjs.com</li>
<li>GitHub: https://github.com/larcjs/larc</li>
</ul>
<h3>Web Standards</h3>
<ul><li>MDN Web Components: https://developer.mozilla.org/en-US/docs/Web/Web_Components</li>
<li>Custom Elements Spec: https://html.spec.whatwg.org/multipage/custom-elements.html</li>
<li>Shadow DOM Spec: https://dom.spec.whatwg.org/#shadow-trees</li>
</ul>
<h3>Community</h3>
<ul><li>Discord: https://discord.gg/zjUPsWTu</li>
<li>Forum: https://forum.larcjs.com</li>
<li>Twitter: @larcjs</li>
</ul>
<h3>Learning Resources</h3>
<ul><li>Web Components Tutorial: https://webcomponents.org</li>
<li>ES Modules Guide: https://javascript.info/modules</li>
<li>IndexedDB Tutorial: https://javascript.info/indexeddb</li>
</ul>
<h3>Tools</h3>
<ul><li>LARC CLI: https://www.npmjs.com/package/create-larc-app</li>
<li>VS Code Extension: Search "LARC" in marketplace</li>
<li>Component Analyzer: https://github.com/larcjs/larc/tree/main/packages/devtools</li>
</ul>
<h3>Example Projects</h3>
<ul><li>Official Examples: https://github.com/larcjs/larc/tree/main/packages/examples</li>
<li>Demo Apps: https://github.com/larcjs/larc/tree/main/packages/apps</li>
</ul>
      </article>
      <footer class="docs-footer">
        <a href="https://github.com/chrisrobison/pan/edit/main/books/learning-larc/chapters/11-19-summary.md" target="_blank">
          Edit this page on GitHub
        </a>
      </footer>
    </main>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha384-F/bZzf7p3Joyp5psL90p/p89AZJsndkSoGwRpXcZhleCWhd8SnRuoYo4d0yirjJp" crossorigin="anonymous"></script>
  <script src="../assets/docs.js"></script>
</body>
</html>